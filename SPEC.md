# ToDoApp 기획서

> Unity 기반 루틴 관리 애플리케이션 기능 명세

## 1. 프로젝트 목표

일일/주간/월간 루틴을 효율적으로 관리하고 완료 여부를 추적할 수 있는 생산성 애플리케이션 개발

---

## 2. 핵심 기능

### 2.1 루틴 관리 (CRUD)

#### 2.1.1 루틴 조회
- [ ] 활성화된 루틴 목록 표시
- [ ] 루틴 타입별 필터링 (일일/주간/월간)
- [ ] 카테고리별 필터링
- [ ] 완료 상태 실시간 표시

#### 2.1.2 루틴 추가
- [x] 루틴 제목 입력
- [x] 루틴 타입 선택 (일일/주간/월간)
- [x] 카테고리 선택 (운동, 공부, 건강, 취미 등)
- [x] 설명 입력 (선택사항)
- [x] 입력 유효성 검사

#### 2.1.3 루틴 수정
- [ ] 기존 루틴 정보 수정
- [ ] 수정 다이얼로그 UI
- [ ] 변경 사항 DB 반영

#### 2.1.4 루틴 삭제
- [x] 루틴 삭제 기능
- [x] 삭제 확인 다이얼로그
- [x] 관련 완료 기록 함께 삭제 (트랜잭션)

### 2.2 완료 상태 관리

#### 2.2.1 상태 토글
- [x] 체크박스를 통한 완료 상태 변경
- [x] DB와 UI 실시간 동기화
- [x] DB 업데이트 실패 시 UI 롤백

#### 2.2.2 날짜 기반 관리
- [x] 일일 루틴: 해당 날짜 기준
- [x] 주간 루틴: 주의 일요일 기준
- [x] 월간 루틴: 월의 첫날 기준
- [x] 한국 시간(KST, UTC+9) 적용

#### 2.2.3 자동 초기화
- [ ] 자정 기준 일일 루틴 초기화
- [ ] 주간/월간 루틴 주기 관리

### 2.3 통계 및 시각화

#### 2.3.1 완료율 통계
- [ ] 일별 완료율 계산
- [ ] 주별 완료율 계산
- [ ] 월별 완료율 계산
- [ ] 전체 루틴 완료율

#### 2.3.2 데이터 시각화
- [ ] 완료율 차트 (막대 그래프/원 그래프)
- [ ] 연속 달성 일수 표시
- [ ] 캘린더 뷰 통합

### 2.4 카테고리 관리

#### 2.4.1 기본 카테고리
- [x] 운동
- [x] 공부
- [x] 건강
- [x] 취미

#### 2.4.2 커스텀 카테고리
- [ ] 사용자 정의 카테고리 추가
- [ ] 카테고리 색상 설정
- [ ] 카테고리 아이콘 선택

### 2.5 부가 기능

#### 2.5.1 알림
- [ ] 루틴 알림 설정
- [ ] 시간대별 알림
- [ ] 미완료 루틴 리마인더

#### 2.5.2 데이터 관리
- [ ] 데이터 백업 (로컬/클라우드)
- [ ] 데이터 복원
- [ ] 데이터 내보내기 (CSV/JSON)

#### 2.5.3 UI/UX
- [x] 스와이프 네비게이션
- [x] 로딩 화면
- [ ] 다크 모드
- [ ] 테마 커스터마이징

---

## 3. UI 요소 명세

### 3.1 메인 화면

#### 필수 UI 컴포넌트
- **루틴 목록 영역**
  - ScrollView (스크롤 가능한 목록)
  - RoutineItemUI 프리팹 (동적 생성)

- **루틴 아이템 (RoutineItemUI)**
  - 제목 Text
  - 타입 표시 Badge (일일/주간/월간)
  - 카테고리 표시 Badge
  - 완료 Toggle (체크박스)
  - 삭제 Button
  - 수정 Button

- **상단 헤더**
  - 현재 날짜 표시
  - 전체 완료율 표시
  - 설정 Button

- **하단 네비게이션**
  - + 버튼 (루틴 추가)
  - 탭 인디케이터 (페이지 표시)
  - 필터 Button

### 3.2 루틴 추가 다이얼로그

#### 필수 UI 컴포넌트
- **입력 필드**
  - 제목 InputField (필수)
  - 설명 InputField (선택)

- **선택 필드**
  - 타입 Dropdown (일일/주간/월간)
  - 카테고리 Dropdown

- **액션 버튼**
  - 추가 Button
  - 취소 Button

### 3.3 루틴 수정 다이얼로그

#### 필수 UI 컴포넌트
- **입력 필드**
  - 제목 InputField (기존 값 표시)
  - 설명 InputField (기존 값 표시)

- **선택 필드**
  - 타입 Dropdown (기존 선택 유지)
  - 카테고리 Dropdown (기존 선택 유지)

- **액션 버튼**
  - 저장 Button
  - 취소 Button

### 3.4 확인 다이얼로그 (ConfirmationDialog)

#### 필수 UI 컴포넌트
- **메시지 영역**
  - 제목 Text
  - 내용 Text

- **액션 버튼**
  - 확인 Button
  - 취소 Button

### 3.5 통계 화면 (예정)

#### 필수 UI 컴포넌트
- **통계 영역**
  - 완료율 차트 (Image/RawImage)
  - 기간 선택 Dropdown
  - 연속 달성 일수 Text

- **캘린더 뷰**
  - 날짜별 완료 상태 표시
  - 월 이동 버튼

### 3.6 설정 화면 (예정)

#### 필수 UI 컴포넌트
- **카테고리 관리**
  - 카테고리 목록
  - 카테고리 추가/수정/삭제

- **알림 설정**
  - 알림 On/Off Toggle
  - 알림 시간 설정

- **데이터 관리**
  - 백업 Button
  - 복원 Button
  - 내보내기 Button

- **테마 설정**
  - 다크 모드 Toggle
  - 테마 색상 선택

---

## 4. 데이터 구조

### 4.1 routines 테이블
| 필드 | 타입 | 설명 | 필수 |
|------|------|------|------|
| id | INTEGER | 고유 ID (자동증가) | ✓ |
| title | TEXT | 루틴 제목 | ✓ |
| type | TEXT | 루틴 타입 (daily/weekly/monthly) | ✓ |
| category | TEXT | 카테고리 (운동/공부/건강/취미) | |
| description | TEXT | 설명 | |
| is_active | INTEGER | 활성 상태 (0/1) | ✓ |
| created_at | TEXT | 생성 시간 (KST) | ✓ |
| updated_at | TEXT | 수정 시간 (KST) | ✓ |

### 4.2 routine_completions 테이블
| 필드 | 타입 | 설명 | 필수 |
|------|------|------|------|
| id | INTEGER | 고유 ID (자동증가) | ✓ |
| routine_id | INTEGER | 루틴 ID (외래키) | ✓ |
| start_date | TEXT | 기준 날짜 | ✓ |
| is_completed | INTEGER | 완료 여부 (0/1) | ✓ |
| completed_at | TEXT | 완료 시간 (KST) | |
| updated_at | TEXT | 수정 시간 (KST) | ✓ |

---

## 5. 우선순위

### Phase 1 - 기본 기능 (완료)
- [x] 데이터베이스 연결
- [x] 루틴 추가
- [x] 루틴 조회
- [x] 루틴 삭제
- [x] 완료 상태 토글
- [x] 스와이프 네비게이션

### Phase 2 - 핵심 기능 (진행 중)
- [ ] 루틴 수정
- [ ] 완료율 통계
- [ ] 캘린더 뷰

### Phase 3 - 확장 기능 (예정)
- [ ] 커스텀 카테고리
- [ ] 알림 기능
- [ ] 데이터 백업/복원

### Phase 4 - 고도화 (예정)
- [ ] 다크 모드
- [ ] 테마 커스터마이징
- [ ] 클라우드 동기화

---

## 6. 기술적 고려사항

### 6.1 성능
- UniTask를 통한 비동기 처리
- 루틴 목록 동적 생성 최적화
- DB 쿼리 효율화

### 6.2 안전성
- SQL Injection 방지 (파라미터 바인딩)
- 트랜잭션을 통한 데이터 무결성 보장
- UI-DB 동기화 실패 시 롤백

### 6.3 플랫폼 대응
- Windows: StreamingAssets 읽기 전용 처리
- Android: APK 내 DB를 내부 저장소로 복사
- 한국 시간(KST, UTC+9) 일관성 유지

---

**작성일**: 2025-10-31
**버전**: 1.0
